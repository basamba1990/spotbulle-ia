(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{7303:function(e,s,t){Promise.resolve().then(t.bind(t,8899))},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(2972),a=t.n(r)},8899:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(7437),a=t(2265),n=t(7648),l=t(2950),i=t(5864),c=t(5832);function d(){let{user:e,isAuthenticated:s}=(0,l.a)(),[t,d]=(0,a.useState)(null),[o,x]=(0,a.useState)([]),[m,h]=(0,a.useState)([]),[u,j]=(0,a.useState)(!0),[v,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{s&&e&&p()},[s,e]);let p=async()=>{try{j(!0),g(null);let s=await i.TV.getUserStats(e.id);d(s.data.data.stats);let t=await i.TV.getUserVideos(e.id,{limit:6,sort:"recent"});x(t.data.data.videos);let r=await i.uB.getEvents({organisateur_id:e.id,limit:4});h(r.data.data.events)}catch(e){g(i.rb.handleError(e).message)}finally{j(!1)}};return s?u?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Bonjour, ",null==e?void 0:e.prenom," !"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Voici un aper\xe7u de votre activit\xe9 sur SpotBulle"})]}),t&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Vid\xe9os"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.videos_count})]})]})})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Vues totales"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.total_views})]})]})})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Likes"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.total_likes})]})]})})}),(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Participations"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:t.participations_count})]})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)(n.default,{href:"/upload",className:"card hover:shadow-lg transition-shadow cursor-pointer group",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Uploader une vid\xe9o"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Partagez vos derniers moments"})]})}),(0,r.jsx)(n.default,{href:"/events/create",className:"card hover:shadow-lg transition-shadow cursor-pointer group",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-green-200 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cr\xe9er un \xe9v\xe9nement"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Organisez votre prochain \xe9v\xe9nement"})]})}),(0,r.jsx)(n.default,{href:"/events",className:"card hover:shadow-lg transition-shadow cursor-pointer group",children:(0,r.jsxs)("div",{className:"card-content text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-200 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"D\xe9couvrir"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Explorez les \xe9v\xe9nements"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Mes vid\xe9os r\xe9centes"}),(0,r.jsx)(n.default,{href:"/profile/videos",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Voir toutes →"})]}),o.length>0?(0,r.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-16 h-12 bg-gray-200 rounded overflow-hidden",children:e.url_thumbnail?(0,r.jsx)("img",{src:e.url_thumbnail,alt:e.titre,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.titre}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[e.vues," vues • ",i.rb.formatDate(e.date_upload)]}),(0,r.jsxs)("div",{className:"flex items-center mt-2 space-x-4 text-xs text-gray-500",children:[(0,r.jsx)("span",{className:"badge badge-sm ".concat("actif"===e.statut?"badge-default":"badge-secondary"),children:e.statut}),(0,r.jsxs)("span",{children:[e.likes," likes"]})]})]})]})})},e.id))}):(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content text-center py-8",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucune vid\xe9o"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Commencez par uploader votre premi\xe8re vid\xe9o."}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(n.default,{href:"/upload",className:"btn btn-primary btn-sm",children:"Uploader une vid\xe9o"})})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Mes \xe9v\xe9nements"}),(0,r.jsx)(n.default,{href:"/profile/events",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Voir tous →"})]}),m.length>0?(0,r.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,r.jsx)(c.Z,{event:e},e.id))}):(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-content text-center py-8",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucun \xe9v\xe9nement"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Cr\xe9ez votre premier \xe9v\xe9nement pour commencer."}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(n.default,{href:"/events/create",className:"btn btn-primary btn-sm",children:"Cr\xe9er un \xe9v\xe9nement"})})]})})]})]}),v&&(0,r.jsxs)("div",{className:"fixed bottom-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg",children:[(0,r.jsx)("p",{children:v}),(0,r.jsx)("button",{onClick:()=>g(null),className:"ml-2 text-white hover:text-gray-200",children:"\xd7"})]})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acc\xe8s restreint"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Vous devez \xeatre connect\xe9 pour acc\xe9der au tableau de bord."}),(0,r.jsx)(n.default,{href:"/login",className:"btn btn-primary btn-md",children:"Se connecter"})]})})}},5832:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var r=t(7437),a=t(7648),n=t(5864);function l(e){var s,t,l,i;let{event:c}=e,d=e=>{let s={planifie:"bg-blue-100 text-blue-800",en_cours:"bg-green-100 text-green-800",termine:"bg-gray-100 text-gray-800",annule:"bg-red-100 text-red-800"};return s[e]||s.planifie},o=e=>({planifie:"Planifi\xe9",en_cours:"En cours",termine:"Termin\xe9",annule:"Annul\xe9"})[e]||"Planifi\xe9",x=new Date(c.date_debut)>new Date,m=new Date(c.date_debut).toDateString()===new Date().toDateString();return(0,r.jsx)(a.default,{href:"/events/".concat(c.id),children:(0,r.jsxs)("div",{className:"card hover:shadow-lg transition-all duration-200 cursor-pointer group",children:[c.image_url&&(0,r.jsxs)("div",{className:"relative h-48 overflow-hidden rounded-t-lg",children:[(0,r.jsx)("img",{src:c.image_url,alt:c.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}),(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)("span",{className:"badge ".concat(d(c.statut)),children:o(c.statut)})})]}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:c.nom}),!c.image_url&&(0,r.jsx)("span",{className:"badge ".concat(d(c.statut)," ml-2 flex-shrink-0"),children:o(c.statut)})]}),c.description&&(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:c.description}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsxs)("span",{children:[m?"Aujourd'hui":n.rb.formatDate(c.date_debut),c.date_fin&&c.date_fin!==c.date_debut&&(0,r.jsxs)("span",{children:[" - ",n.rb.formatDate(c.date_fin)]})]})]}),c.lieu&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,r.jsx)("span",{className:"truncate",children:c.lieu})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsxs)("span",{children:["Par ",null===(s=c.organisateur)||void 0===s?void 0:s.prenom," ",null===(t=c.organisateur)||void 0===t?void 0:t.nom]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"badge ".concat((e=>{let s={sport:"bg-red-100 text-red-800",culture:"bg-purple-100 text-purple-800",education:"bg-blue-100 text-blue-800",famille:"bg-green-100 text-green-800",professionnel:"bg-gray-100 text-gray-800",loisirs:"bg-yellow-100 text-yellow-800",voyage:"bg-indigo-100 text-indigo-800",cuisine:"bg-orange-100 text-orange-800",technologie:"bg-cyan-100 text-cyan-800",sante:"bg-pink-100 text-pink-800",autre:"bg-gray-100 text-gray-800"};return s[e]||s.autre})(c.thematique)),children:c.thematique}),c.prix>0?(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[c.prix,"€"]}):(0,r.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Gratuit"})]}),c.capacite_max&&(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Capacit\xe9"}),(0,r.jsxs)("span",{className:"text-gray-700",children:[(null===(l=c.participations)||void 0===l?void 0:l.length)||0," / ",c.capacite_max]})]}),(0,r.jsx)("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(((null===(i=c.participations)||void 0===i?void 0:i.length)||0)/c.capacite_max*100,100),"%")}})})]}),x&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("span",{children:[Math.ceil((new Date(c.date_debut)-new Date)/864e5)," jour(s) restant(s)"]})]})})]})]})})}}},function(e){e.O(0,[825,972,950,971,117,744],function(){return e(e.s=7303)}),_N_E=e.O()}]);
