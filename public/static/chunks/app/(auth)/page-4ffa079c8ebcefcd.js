(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{834:function(e,s,r){Promise.resolve().then(r.bind(r,7599))},7648:function(e,s,r){"use strict";r.d(s,{default:function(){return o.a}});var t=r(2972),o=r.n(t)},9376:function(e,s,r){"use strict";var t=r(5475);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},7599:function(e,s,r){"use strict";r.d(s,{default:function(){return c}});var t=r(7437),o=r(2265),n=r(9376),a=r(7648),l=r(2950);function i(e){let{show:s,message:r,onClose:n,autoClose:a=!0,duration:l=5e3}=e,[i,d]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if(s){if(d(!0),a){let e=setTimeout(()=>{d(!1),setTimeout(()=>{n&&n()},300)},l);return()=>clearTimeout(e)}}else d(!1)},[s,a,l,n]),s)?(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 transition-all duration-300 transform ".concat(i?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 max-w-sm",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Inscription r\xe9ussie !"}),(0,t.jsx)("div",{className:"mt-1 text-sm text-green-700",children:r||"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s. Vous \xeates maintenant connect\xe9."})]}),(0,t.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,t.jsxs)("button",{type:"button",onClick:()=>{d(!1),setTimeout(()=>{n&&n()},300)},className:"inline-flex text-green-400 hover:text-green-600 focus:outline-none focus:text-green-600 transition-colors duration-200",children:[(0,t.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,t.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}):null}function d(e){let{show:s,message:r,onClose:n,autoClose:a=!1,duration:l=5e3}=e,[i,d]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if(s){if(d(!0),a){let e=setTimeout(()=>{d(!1),setTimeout(()=>{n&&n()},300)},l);return()=>clearTimeout(e)}}else d(!1)},[s,a,l,n]),s)?(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 transition-all duration-300 transform ".concat(i?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 max-w-sm",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erreur d'inscription"}),(0,t.jsx)("div",{className:"mt-1 text-sm text-red-700",children:r||"Une erreur est survenue lors de l'inscription."})]}),(0,t.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,t.jsxs)("button",{type:"button",onClick:()=>{d(!1),setTimeout(()=>{n&&n()},300)},className:"inline-flex text-red-400 hover:text-red-600 focus:outline-none focus:text-red-600 transition-colors duration-200",children:[(0,t.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,t.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}):null}function c(){let{register:e,isLoading:s,error:r,clearError:c}=(0,l.a)(),m=(0,n.useRouter)(),[u,x]=(0,o.useState)({nom:"",prenom:"",email:"",password:"",confirmPassword:""}),[p,h]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[j,v]=(0,o.useState)({}),[b,w]=(0,o.useState)(!1),[N,y]=(0,o.useState)(!1);(0,o.useEffect)(()=>{c()},[c]);let k=e=>{let{name:s,value:t}=e.target;x(e=>({...e,[s]:t})),j[s]&&v(e=>({...e,[s]:null})),r&&c()},L=()=>{let e={};return u.nom.trim()?u.nom.trim().length<2&&(e.nom="Le nom doit contenir au moins 2 caract\xe8res"):e.nom="Le nom est requis",u.prenom.trim()?u.prenom.trim().length<2&&(e.prenom="Le pr\xe9nom doit contenir au moins 2 caract\xe8res"):e.prenom="Le pr\xe9nom est requis",u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(e.email="Format d'email invalide"):e.email="L'adresse email est requise",u.password.trim()?u.password.length<6&&(e.password="Le mot de passe doit contenir au moins 6 caract\xe8res"):e.password="Le mot de passe est requis",u.confirmPassword.trim()?u.password!==u.confirmPassword&&(e.confirmPassword="Les mots de passe ne correspondent pas"):e.confirmPassword="La confirmation du mot de passe est requise",v(e),0===Object.keys(e).length},C=async s=>{if(s.preventDefault(),!L())return;let r=await e({nom:u.nom,prenom:u.prenom,email:u.email,password:u.password});r.success?(w(!0),setTimeout(()=>{m.push("/dashboard")},2e3)):(y(!0),v({general:r.message}))};return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-indigo-100",children:(0,t.jsx)("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Cr\xe9er votre compte"}),(0,t.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",(0,t.jsx)(a.default,{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"connectez-vous \xe0 votre compte existant"})]})]}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:C,children:[r&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4 animate-fade-in",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:r})}),(0,t.jsx)("div",{className:"ml-auto pl-3",children:(0,t.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,t.jsxs)("button",{type:"button",onClick:c,className:"inline-flex bg-red-50 rounded-md p-1.5 text-red-500 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-50 focus:ring-red-600",children:[(0,t.jsx)("span",{className:"sr-only",children:"Fermer"}),(0,t.jsx)("svg",{className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-700",children:"Nom"}),(0,t.jsx)("input",{id:"nom",name:"nom",type:"text",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ".concat(j.nom?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Votre nom",value:u.nom,onChange:k,disabled:s}),j.nom&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.nom})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"prenom",className:"block text-sm font-medium text-gray-700",children:"Pr\xe9nom"}),(0,t.jsx)("input",{id:"prenom",name:"prenom",type:"text",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ".concat(j.prenom?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Votre pr\xe9nom",value:u.prenom,onChange:k,disabled:s}),j.prenom&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.prenom})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Adresse email"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ".concat(j.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"votre@email.com",value:u.email,onChange:k,disabled:s}),j.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pr-10 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ".concat(j.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Votre mot de passe",value:u.password,onChange:k,disabled:s}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!p),disabled:s,children:p?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),j.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.password})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pr-10 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm ".concat(j.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300"),placeholder:"Confirmez votre mot de passe",value:u.confirmPassword,onChange:k,disabled:s}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!f),disabled:s,children:f?(0,t.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,t.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),j.confirmPassword&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:j.confirmPassword})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:s?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Inscription en cours..."]}):"S'inscrire"})})]})]}),(0,t.jsx)(i,{show:b,message:"Votre compte a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s ! Redirection en cours...",onClose:()=>w(!1),autoClose:!1}),(0,t.jsx)(d,{show:N,message:r||j.general,onClose:()=>{y(!1),c()},autoClose:!1})]})}}},function(e){e.O(0,[825,972,950,971,117,744],function(){return e(e.s=834)}),_N_E=e.O()}]);